<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>eForth1: eForth1 - eForth for Arduino</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">eForth1
   &#160;<span id="projectnumber">v1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">eForth1 - eForth for Arduino </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In 2011, Dr. Chen-Hanson Ting created [328eForth]((<a href="https://chochain.github.io/eForth1/docs/328eForth.pdf">https://chochain.github.io/eForth1/docs/328eForth.pdf</a>) to run Forth on Arduino UNO. Wrote in his ceForth_33 document, the creator of eForth, and one of the inspiring figures of Forth community noted: </p><blockquote class="doxtable">
<p><em>In 2011, I was attracted to Arduino Uno Kit and ported eForth to it as 328eForth...writing to flash memory, I had to take over the bootload section which was monopolized by Arduino IDE...I extended Forth dictionary in the RAM memory. It worked. However, you had only 1.5KB of RAM memory left over for new Forth words, and you could not save these new words before you lost power. As I stated then, it was only a teaser to entice new people to try Forth on Arduino Uno.</em> </p>
</blockquote>
<p>Before Dr. Ting conceded his fight with cancer in May, 2022, I've spent the last 11 months working with him expanding the concept of "Forth without Forth" - a new eForth model - he called. Traditionally, Forth is built with a set of core words in low-level assembly language and establish the rest of words with high-level Forth scripts which get boot-strapped on start-up time. With the proliferation of modern languages, build Forth without using Forth, he reasoned that Forth built entirely in high-level languages can not only greatly simplify the virtual machine, taking advantage of modern languages and operating system, but also encourage portability and optimization. In a few months, we completed new batch of eForths in Javascript, Java, C++, ported them to Windows, ESP32, which Dr. Ting presented his video on November, 2021 to <a href="https://www.youtube.com/watch?v=bb5vi9kR1tE&amp;t=827s">Sillicon Valley Forth Interest Group</a>. Later, we focused on SystemVerilog's edition with Don &amp; Demitri's CORE-I FPGA project of <a href="https://www.facebook.com/groups/1304548976637542">AI &amp; Robotics Group</a> til his eventual departure.</p>
<p>In Dr. Ting's own word: </p><blockquote class="doxtable">
<p><em>In all these years, I have thought that the eForth Model is a good model useful for all different processors and microcontrollers, and for all different applications. It is a very simple model for anybody who like to learn Forth and to use it for their own applications.</em> </p>
</blockquote>
<p>I enjoy the beauty of working on something small and simple, so decided to pick up Dr. Ting's eForth Model and have fun with it. However, to make it useful, there are a few things that I need to overcome first i.e. make macro assembler C-coder friendly, remove dependency on extra bootloader programmer, add EEPROM save/load, and support interrupts. So, here we go!</p>
<h2>What is eForth1?</h2>
<ul>
<li>An eForth for Arduino UNO implemented in C.</li>
<li>A .ino file that can be openned in Arduino IDE and load/run directly onto Arduino UNO.</li>
<li>Has 16-bit cells and stacks.</li>
<li>Can read/write Arduino pins.</li>
<li>Supports Arduino Interrupts.</li>
<li>Can save/load app to/from EEPROM.</li>
<li>Can be embeded with other Arduino applications.</li>
<li>Become Turnkey system booting from saved EEPROM.</li>
</ul>
<h2>How to install eForth1?</h2>
<ul>
<li>From Arduino IDE's Library Manager <blockquote class="doxtable">
<p><br  />
 &gt; Make sure you've hooked up one of Arduino Nano/Uno, or a development board that hosts ATmega328</p>
<p>&gt; from Arduino IDE &gt; Tools &gt; Manage Libraries, enter FORTH in search box</p>
<p>&gt; find eForth1 in the short list, select the latest version, and click the Install button</p>
<p>&gt; from Files &gt; Examples, find eForth1 in Examples from Custom Libraries at very buttom section</p>
<p>&gt; load one of the nanoForth examples, such as 0_hello</p>
<p>&gt; open Serial Monitor, set baud rate to 115200, and line ending to 'Both NL &amp; CR'</p>
<p>&gt; hit compile and upload. You should see the 'ok' prompt</p>
<p>&gt; in Serial Monitor input bar atop, type WORDS and hit &lt;return&gt;. See what eForth1 says.<br  />
<br  />
 </p>
</blockquote>
</li>
<li>or, from GitHub directly, if you prefer managing source codes manually <blockquote class="doxtable">
<p><br  />
 &gt; git clone <a href="https://github.com/chochain/eForth1">https://github.com/chochain/eForth1</a> onto your local Sketch directory</p>
<p>&gt; copy examples/0_hello/0_heloo.ino from sub-directory, then rename it as <a class="el" href="eforth1_8ino.html">eforth1.ino</a><br  />
</p>
<p>&gt; open <a class="el" href="eforth1_8ino.html">eforth1.ino</a> with Arduino IDE, and setup your Nano/Uno (or ATmega328) development board</p>
<p>&gt; in nanoFORTH.ino, change the #include &lt;<a class="el" href="eforth1_8h.html">eforth1.h</a>&gt; to #include "./src/eforth1.h"</p>
<p>&gt; open Serial Monitor, set baud rate to 115200, and line ending to 'Both NL &amp; CR'</p>
<p>&gt; compile and upload, you should see the 'ok' prompt</p>
<p>&gt; in Serial Monitor input bar atop, type WORDS and hit &lt;return&gt;. See what eForth1 says.<br  />
<br  />
 </p>
</blockquote>
</li>
<li>Hopefully, thing goes well and you get something like this if eForth1 is uploaded successfully <blockquote class="doxtable">
<p><br  />
 </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">screen shot  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><div class="image">
<img src="images/eforth1_init_snip.png" alt=""/>
</div>
 </td></tr>
</table>
</blockquote>
<br  />
</li>
</ul>
<h2>To Learn More About Forth?</h2>
<p>If your programming language exposure has been with C, Java, or even Python so far, FORTH is quite <b>different</b>. Quote Nick: <em>"It's no functional or object oriented, it doesn't have type-checking, and it basically has zero syntax"</em>. No syntax? So, anyway, before you dive right into the deep-end, here's a good online materials.</p><ul>
<li>Interactive tutorial for FORTH primer. It teaches you how FORTH fundamentally works such as the numbers, the stack, and the dictionary. <blockquote class="doxtable">
<p><a href="https://skilldrick.github.io/easyforth/#introduction" target="_blank">Easy Forth Tutorial by Nick Morgan</a> </p>
</blockquote>
</li>
</ul>
<p>To understand the philosophy of FORTH, excellent online e-books are here free for you.</p><ul>
<li>Timeless classic for the history, paths, and thoughts behind FORTH language. <blockquote class="doxtable">
<p><a href="http://home.iae.nl/users/mhx/sf.html" target="_blank">Starting Forth by Leo Brodie</a><br  />
 <a href="http://thinking-forth.sourceforge.net" target="_blank">Thinking Forth by Leo Brodie</a> </p>
</blockquote>
</li>
</ul>
<h2>References to Dr. Ting's Original</h2>
<ul>
<li>328eForth in AVR assembly <a href="https://chochain.github.io/eForth1/docs/328eForth_content.pdf">table of content</a> and <a href="https://chochain.github.io/eForth1/docs/328eForth.pdf">full document</a></li>
<li><a href="https://github.com/DRuffer/328eforth">328eForth mod for coinForth by D. Ruffer</a></li>
<li><a href="https://chochain.github.io/eForth1/docs/ceForth_33.doc">ceForth_33.doc - original documentation</a></li>
<li><a href="https://chochain.github.io/eForth1/docs/ceForth_33.cpp">ceForth_33.cpp - in C, source assembler + VM</a></li>
<li>[eforth_328.ino - for Arduino IDE]((<a href="https://chochain.github.io/eForth1/docs/eforth_328.ino">https://chochain.github.io/eForth1/docs/eforth_328.ino</a>)</li>
<li>[eForth for STM8 - for even smaller apps(<a href="https://github.com/TG9541/stm8ef">https://github.com/TG9541/stm8ef</a>) and <a href="https://github.com/TG9541/stm8ef/wiki/STM8S-Programming#flashing-the-stm8">STM8 Programming</a></li>
<li><a href="https://github.com/Esp32forth">ESP32Forth for ESP32 - for larger/fancier apps</a> </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
