\hypertarget{eforth1_8cpp}{}\doxysection{src/eforth1.cpp File Reference}
\label{eforth1_8cpp}\index{src/eforth1.cpp@{src/eforth1.cpp}}
{\ttfamily \#include \char`\"{}eforth\+\_\+core.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}e\+Forth1.\+h\char`\"{}}\newline
{\ttfamily \#include $<$E\+E\+P\+R\+O\+M.\+h$>$}\newline
Include dependency graph for eforth1.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{eforth1_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{eforth1_8cpp_a8c15257f5a5277bb64afcbe594bea146}{G\+ET}}(d)~($\ast$(\mbox{\hyperlink{eforth__config_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}}$\ast$)\&ram\mbox{[}d\mbox{]})
\item 
\#define \mbox{\hyperlink{eforth1_8cpp_ac90aeca39f45fc56ac96c675d18a7e78}{S\+ET}}(d,  v)~($\ast$(\mbox{\hyperlink{eforth__config_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}}$\ast$)\&ram\mbox{[}d\mbox{]} = (v))
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{eforth1_8cpp_aad641047965521b86d4e35831b922760}{\+\_\+stat}} (\mbox{\hyperlink{eforth__config_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} $\ast$ram, int sz, Stream $\ast$\mbox{\hyperlink{eforth1_8cpp_a701d8d7ac1f23c7b361d62e89c06399b}{io}})
\item 
int \mbox{\hyperlink{eforth1_8cpp_a109acb528bfa0dfdd5b63f39f4a66702}{ef\+\_\+save}} (\mbox{\hyperlink{eforth__config_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} $\ast$ram)
\begin{DoxyCompactList}\small\item\em save user variables and dictionary to E\+E\+P\+R\+OM \end{DoxyCompactList}\item 
int \mbox{\hyperlink{eforth1_8cpp_a60c4be2ec5406c9cf0ff6885f9bc116f}{ef\+\_\+load}} (\mbox{\hyperlink{eforth__config_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} $\ast$ram)
\begin{DoxyCompactList}\small\item\em load user variables and dictionary from E\+E\+P\+R\+OM \end{DoxyCompactList}\item 
void \mbox{\hyperlink{eforth1_8cpp_a59f97abd902440824c60452e68eb390c}{ef\+\_\+setup}} (const char $\ast$\mbox{\hyperlink{eforth1_8ino_8cpp_a63a995671251aa83e88332d1c70e9313}{code}}, Stream \&io\+\_\+stream)
\item 
void \mbox{\hyperlink{eforth1_8cpp_a1fb0d84284dc4203d4a4e4dbe8e07b29}{ef\+\_\+run}} ()
\item 
char $\ast$ \mbox{\hyperlink{eforth1_8cpp_a781c9630598b77ec4ac98aafaf40fef4}{ef\+\_\+ram}} (int i)
\begin{DoxyCompactList}\small\item\em expose VM R\+AM space to Sketch \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{eforth__config_8h_a696390429f2f3b644bde8d0322a24124}{U32}} \mbox{\hyperlink{eforth1_8cpp_ab122f4898c37a0db81ea641558424375}{forth\+\_\+rom}} \mbox{[}$\,$\mbox{]}
\item 
\mbox{\hyperlink{eforth__config_8h_a696390429f2f3b644bde8d0322a24124}{U32}} \mbox{\hyperlink{eforth1_8cpp_a6fe6f33736fc0d8ed68fd74b454e00e7}{forth\+\_\+rom\+\_\+sz}}
\item 
static \mbox{\hyperlink{eforth__config_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} \mbox{\hyperlink{eforth1_8cpp_afcddd284fb005b31af6f342c131b1a6d}{forth\+\_\+ram}} \mbox{[}\mbox{\hyperlink{eforth__config_8h_ac13ec61d2b1799e4ab11371a4254e7dd}{F\+O\+R\+T\+H\+\_\+\+R\+A\+M\+\_\+\+SZ}}\mbox{]}
\begin{DoxyCompactList}\small\item\em R\+AM pointer (malloc) \end{DoxyCompactList}\item 
static Stream $\ast$ \mbox{\hyperlink{eforth1_8cpp_a701d8d7ac1f23c7b361d62e89c06399b}{io}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{eforth1_8cpp_a8c15257f5a5277bb64afcbe594bea146}\label{eforth1_8cpp_a8c15257f5a5277bb64afcbe594bea146}} 
\index{eforth1.cpp@{eforth1.cpp}!GET@{GET}}
\index{GET@{GET}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{GET}{GET}}
{\footnotesize\ttfamily \#define G\+ET(\begin{DoxyParamCaption}\item[{}]{d }\end{DoxyParamCaption})~($\ast$(\mbox{\hyperlink{eforth__config_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}}$\ast$)\&ram\mbox{[}d\mbox{]})}

\begin{quote}
E\+E\+P\+R\+OM interface \end{quote}
\begin{quote}
E\+E\+P\+R\+OM Save/\+Load \end{quote}
\mbox{\Hypertarget{eforth1_8cpp_ac90aeca39f45fc56ac96c675d18a7e78}\label{eforth1_8cpp_ac90aeca39f45fc56ac96c675d18a7e78}} 
\index{eforth1.cpp@{eforth1.cpp}!SET@{SET}}
\index{SET@{SET}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{SET}{SET}}
{\footnotesize\ttfamily \#define S\+ET(\begin{DoxyParamCaption}\item[{}]{d,  }\item[{}]{v }\end{DoxyParamCaption})~($\ast$(\mbox{\hyperlink{eforth__config_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}}$\ast$)\&ram\mbox{[}d\mbox{]} = (v))}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{eforth1_8cpp_aad641047965521b86d4e35831b922760}\label{eforth1_8cpp_aad641047965521b86d4e35831b922760}} 
\index{eforth1.cpp@{eforth1.cpp}!\_stat@{\_stat}}
\index{\_stat@{\_stat}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{\_stat()}{\_stat()}}
{\footnotesize\ttfamily void \+\_\+stat (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{eforth__config_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} $\ast$}]{ram,  }\item[{int}]{sz,  }\item[{Stream $\ast$}]{io }\end{DoxyParamCaption})}

\begin{quote}
display e\+Forth system information \end{quote}
$<$ freelist

$<$ start of heap

$<$ end of heap\mbox{\Hypertarget{eforth1_8cpp_a109acb528bfa0dfdd5b63f39f4a66702}\label{eforth1_8cpp_a109acb528bfa0dfdd5b63f39f4a66702}} 
\index{eforth1.cpp@{eforth1.cpp}!ef\_save@{ef\_save}}
\index{ef\_save@{ef\_save}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{ef\_save()}{ef\_save()}}
{\footnotesize\ttfamily int ef\+\_\+save (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{eforth__config_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} $\ast$}]{ram }\end{DoxyParamCaption})}



save user variables and dictionary to E\+E\+P\+R\+OM 


\begin{DoxyItemize}
\item store dictionary byte-\/by-\/byte
\end{DoxyItemize}\mbox{\Hypertarget{eforth1_8cpp_a60c4be2ec5406c9cf0ff6885f9bc116f}\label{eforth1_8cpp_a60c4be2ec5406c9cf0ff6885f9bc116f}} 
\index{eforth1.cpp@{eforth1.cpp}!ef\_load@{ef\_load}}
\index{ef\_load@{ef\_load}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{ef\_load()}{ef\_load()}}
{\footnotesize\ttfamily int ef\+\_\+load (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{eforth__config_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} $\ast$}]{ram }\end{DoxyParamCaption})}



load user variables and dictionary from E\+E\+P\+R\+OM 

$<$ CP addr in E\+E\+P\+R\+OM (aka H\+E\+RE)


\begin{DoxyItemize}
\item $>$IN (buffer pointer)
\item keep v\+IN, v\+N\+T\+IB
\item retrieve dictionary byte-\/by-\/byte
\item restore v\+IN, v\+N\+T\+IB
\end{DoxyItemize}\mbox{\Hypertarget{eforth1_8cpp_a59f97abd902440824c60452e68eb390c}\label{eforth1_8cpp_a59f97abd902440824c60452e68eb390c}} 
\index{eforth1.cpp@{eforth1.cpp}!ef\_setup@{ef\_setup}}
\index{ef\_setup@{ef\_setup}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{ef\_setup()}{ef\_setup()}}
{\footnotesize\ttfamily void ef\+\_\+setup (\begin{DoxyParamCaption}\item[{const char $\ast$}]{code,  }\item[{Stream \&}]{io\+\_\+stream }\end{DoxyParamCaption})}

\begin{quote}
setup (called by Arduino setup) \end{quote}
\mbox{\Hypertarget{eforth1_8cpp_a1fb0d84284dc4203d4a4e4dbe8e07b29}\label{eforth1_8cpp_a1fb0d84284dc4203d4a4e4dbe8e07b29}} 
\index{eforth1.cpp@{eforth1.cpp}!ef\_run@{ef\_run}}
\index{ef\_run@{ef\_run}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{ef\_run()}{ef\_run()}}
{\footnotesize\ttfamily void ef\+\_\+run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{quote}
VM outer interpreter proxy \end{quote}
\mbox{\Hypertarget{eforth1_8cpp_a781c9630598b77ec4ac98aafaf40fef4}\label{eforth1_8cpp_a781c9630598b77ec4ac98aafaf40fef4}} 
\index{eforth1.cpp@{eforth1.cpp}!ef\_ram@{ef\_ram}}
\index{ef\_ram@{ef\_ram}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{ef\_ram()}{ef\_ram()}}
{\footnotesize\ttfamily char$\ast$ ef\+\_\+ram (\begin{DoxyParamCaption}\item[{int}]{i }\end{DoxyParamCaption})}



expose VM R\+AM space to Sketch 

\begin{quote}
VM R\+AM space \end{quote}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{eforth1_8cpp_ab122f4898c37a0db81ea641558424375}\label{eforth1_8cpp_ab122f4898c37a0db81ea641558424375}} 
\index{eforth1.cpp@{eforth1.cpp}!forth\_rom@{forth\_rom}}
\index{forth\_rom@{forth\_rom}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{forth\_rom}{forth\_rom}}
{\footnotesize\ttfamily const \mbox{\hyperlink{eforth__config_8h_a696390429f2f3b644bde8d0322a24124}{U32}} forth\+\_\+rom}

\begin{quote}
Forth R\+OM image (\mbox{\hyperlink{eforth__rom_8c}{eforth\+\_\+rom.\+c}}, generated by \mbox{\hyperlink{eforth__asm_8c}{eforth\+\_\+asm.\+c}}) \end{quote}
\mbox{\Hypertarget{eforth1_8cpp_a6fe6f33736fc0d8ed68fd74b454e00e7}\label{eforth1_8cpp_a6fe6f33736fc0d8ed68fd74b454e00e7}} 
\index{eforth1.cpp@{eforth1.cpp}!forth\_rom\_sz@{forth\_rom\_sz}}
\index{forth\_rom\_sz@{forth\_rom\_sz}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{forth\_rom\_sz}{forth\_rom\_sz}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__config_8h_a696390429f2f3b644bde8d0322a24124}{U32}} forth\+\_\+rom\+\_\+sz}

actual size of R\+OM \mbox{\Hypertarget{eforth1_8cpp_afcddd284fb005b31af6f342c131b1a6d}\label{eforth1_8cpp_afcddd284fb005b31af6f342c131b1a6d}} 
\index{eforth1.cpp@{eforth1.cpp}!forth\_ram@{forth\_ram}}
\index{forth\_ram@{forth\_ram}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{forth\_ram}{forth\_ram}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__config_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} forth\+\_\+ram\mbox{[}\mbox{\hyperlink{eforth__config_8h_ac13ec61d2b1799e4ab11371a4254e7dd}{F\+O\+R\+T\+H\+\_\+\+R\+A\+M\+\_\+\+SZ}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



R\+AM pointer (malloc) 

\begin{quote}
Forth managed memory block \end{quote}
\begin{DoxyNote}{Note}
\+: dynamic allocation is usually a bad idea for M\+CU 1) uses 4 more bytes of R\+AM (freelist), 2) uses $\sim$700 bytes of Flash (allocator), 3) does prevent I\+DE complaints about low memory in compile time 
\end{DoxyNote}
\mbox{\Hypertarget{eforth1_8cpp_a701d8d7ac1f23c7b361d62e89c06399b}\label{eforth1_8cpp_a701d8d7ac1f23c7b361d62e89c06399b}} 
\index{eforth1.cpp@{eforth1.cpp}!io@{io}}
\index{io@{io}!eforth1.cpp@{eforth1.cpp}}
\doxysubsubsection{\texorpdfstring{io}{io}}
{\footnotesize\ttfamily Stream$\ast$ io\hspace{0.3cm}{\ttfamily [static]}}

IO stream (Serial Monito/// 