In 2011, Dr. Chen-\/\+Hanson Ting created \href{https://chochain.github.io/eForth1/ref/328eForth.pdf}{\texttt{ 328e\+Forth}} to run Forth on Arduino U\+NO. Wrote in his ce\+Forth\+\_\+33 document, the creator of e\+Forth, and one of the inspiring figures of Forth community noted\+: \begin{quote}
{\itshape In 2011, I was attracted to Arduino Uno Kit and ported e\+Forth to it as 328e\+Forth...writing to flash memory, I had to take over the bootload section which was monopolized by Arduino I\+DE...I extended Forth dictionary in the R\+AM memory. It worked. However, you had only 1.\+5\+KB of R\+AM memory left over for new Forth words, and you could not save these new words before you lost power. As I stated then, it was only a teaser to entice new people to try Forth on Arduino Uno.} \end{quote}


Before Dr. Ting conceded his fight with cancer in May, 2022, I\textquotesingle{}ve spent the last 11 months working with him expanding the concept of \char`\"{}\+Forth without Forth\char`\"{} -\/ a new e\+Forth model -\/ he called. Traditionally, Forth is built with a set of core words in low-\/level assembly language and establish the rest of words with high-\/level Forth scripts which get boot-\/strapped on start-\/up time. With the proliferation of modern languages, build Forth without using Forth, he reasoned that Forth built entirely in high-\/level languages can not only greatly simplify the virtual machine, taking advantage of modern languages and operating system, but also encourage portability and optimization. In a few months, we completed new batch of e\+Forths in Javascript, Java, C++, ported them to Windows, E\+S\+P32, which Dr. Ting presented his video on November, 2021 to \href{https://www.youtube.com/watch?v=bb5vi9kR1tE&t=827s}{\texttt{ Sillicon Valley Forth Interest Group}}. Later, we focused on System\+Verilog\textquotesingle{}s edition with Don \& Demitri\textquotesingle{}s C\+O\+R\+E-\/I F\+P\+GA project of \href{https://www.facebook.com/groups/1304548976637542}{\texttt{ AI \& Robotics Group}} til his eventual departure.

In Dr. Ting\textquotesingle{}s own word\+: \begin{quote}
{\itshape In all these years, I have thought that the e\+Forth Model is a good model useful for all different processors and microcontrollers, and for all different applications. It is a very simple model for anybody who like to learn Forth and to use it for their own applications.} \end{quote}


I enjoy the beauty of working on something small and simple, so decided to pick up Dr. Ting\textquotesingle{}s e\+Forth Model and have fun with it. However, to make it useful, there are a few things that I need to overcome first i.\+e. make macro assembler C-\/coder friendly, remove dependency on extra bootloader programmer, add E\+E\+P\+R\+OM save/load, and support interrupts. So, here we go!

\doxysubsection*{What is e\+Forth1?}


\begin{DoxyItemize}
\item An e\+Forth for Arduino U\+N\+O/\+Nano implemented in C.
\item A .ino file that can be openned in Arduino I\+DE and load/run directly onto Arduino.
\item Has 16-\/bit cells and stacks.
\item Can read/write Arduino pins.
\item Supports Arduino Interrupts.
\item Can save/load app to/from E\+E\+P\+R\+OM.
\item Can be embeded with other Arduino applications.
\item Become Turnkey system booting from saved E\+E\+P\+R\+OM.
\end{DoxyItemize}

\doxysubsection*{How to install e\+Forth1?}


\begin{DoxyItemize}
\item From Arduino I\+DE\textquotesingle{}s Library Manager \begin{quote}


$>$ Make sure you\textquotesingle{}ve hooked up one of Arduino Nano/\+Uno, or a development board that hosts A\+Tmega328

$>$ from {\itshape Arduino I\+DE $>$ Tools $>$ Manage} Libraries, enter F\+O\+R\+TH in search box

$>$ find e\+Forth1 in the short list, select the latest version, and click the Install button

$>$ from {\itshape Files $>$ Examples}, find e\+Forth1 in Examples from Custom Libraries at very buttom section

$>$ load one of the e\+Forth1 examples, such as {\itshape 0\+\_\+hello}

$>$ open Serial Monitor, set baud rate to {\itshape 115200}, and line ending to {\itshape Both NL \& CR}

$>$ hit compile and upload. You should see the \textquotesingle{}ok\textquotesingle{} prompt

\end{quote}

\item Or, from Git\+Hub directly, if you prefer managing source codes manually \begin{quote}


$>$ git clone {\itshape \href{https://github.com/chochain/eForth1}{\texttt{ https\+://github.\+com/chochain/e\+Forth1}}} onto your local Sketch directory

$>$ copy {\itshape examples/0\+\_\+hello/0\+\_\+hello.\+ino} from sub-\/directory, then rename it as {\itshape \mbox{\hyperlink{eforth1_8ino}{eforth1.\+ino}}}

$>$ open {\itshape \mbox{\hyperlink{eforth1_8ino}{eforth1.\+ino}}} with Arduino I\+DE, and setup your Nano/\+Uno (or A\+Tmega328) development board

$>$ in {\itshape \mbox{\hyperlink{eforth1_8ino}{eforth1.\+ino}}}, change the {\itshape \#include $<$\mbox{\hyperlink{eforth1_8h}{eforth1.\+h}}$>$} to {\itshape \#include \char`\"{}./src/eforth1.\+h\char`\"{}}

$>$ open Serial Monitor, set baud rate to {\itshape 115200}, and line ending to {\itshape Both NL \& CR}

$>$ compile and upload, you should see the \textquotesingle{}ok\textquotesingle{} prompt

\end{quote}

\end{DoxyItemize}

Hopefully, thing goes well and you get something like this if e\+Forth1 is uploaded successfully.

\begin{quote}
 \end{quote}


Now type {\bfseries{W\+O\+R\+DS}} in the input bar and hit $<$return$>$ to list all the words supprted by e\+Forth1. It is ready to serve your future fun projects.

\begin{quote}
 \end{quote}


\doxysubsection*{Demos}


\begin{DoxyItemize}
\item L\+ED blinker (assume you have a blue L\+ED on pin 6) 
\begin{DoxyPre}
    > : toggle 6 in 1 xor 6 out ;⏎           \textbackslash{} create a word to toggle the blue LED
    > : blink for toggle 500 delay next ;⏎   \textbackslash{} create a word to blink
    > 9 blink⏎                               \textbackslash{} run 10 cycles (i.e.9,8,7,...,2,1,0 to on/off 5 times)
    \end{DoxyPre}

\item Timer Interrupt (L\+ED on pin 5) 
\begin{DoxyPre}
    > : my\_isr 5 in 1 xor 5 out ;⏎           \textbackslash{} create an interrupt service routine (just a regular word)
    > ' my\_isr 2 tmr⏎                        \textbackslash{} make the ISR ticked every 0.2 seconds (2 x 0.1 seconds)
    > 1 tmre⏎                                \textbackslash{} enable timer, now you should see red LED blinking
    > 19 blink⏎                              \textbackslash{} let's have them both blink (blue LED 10 times) 
    \end{DoxyPre}
 $\vert$$\vert$$\vert$ $\vert$\+:--$\vert$\+:--$\vert$ $\vert$$\vert$$\vert$
\end{DoxyItemize}

\doxysubsection*{To Learn More About Forth?}

If your programming language exposure has been with C, Java, or even Python so far, F\+O\+R\+TH is quite {\bfseries{different}}. Quote Nick\+: {\itshape \char`\"{}\+It\textquotesingle{}s no functional or object oriented, it doesn\textquotesingle{}t have type-\/checking, and it basically has zero syntax\char`\"{}}. No syntax? So, anyway, before you dive right into the deep-\/end, here\textquotesingle{}s a good online materials.
\begin{DoxyItemize}
\item Interactive tutorial for F\+O\+R\+TH primer. It teaches you how F\+O\+R\+TH fundamentally works such as the numbers, the stack, and the dictionary. \begin{quote}
\href{https://skilldrick.github.io/easyforth/\#introduction}{\texttt{ Easy Forth Tutorial by Nick Morgan}} with a \href{https://wiki.forth-ev.de/lib/exe/fetch.php/en:projects:a-start-with-forth:05_easy_forth_v16_a5_withexp_comments.pdf?fbclid=IwAR0sHmgiDtnMRuQtJdVkhl9bmiitpgcjs4ZlIDVtlxrssMOmLBv0vesvmKQ}{\texttt{ Writeup by Juergen Pintaske}} \end{quote}

\end{DoxyItemize}

To understand the philosophy of F\+O\+R\+TH, excellent online e-\/books are here free for you.
\begin{DoxyItemize}
\item Timeless classic for the history, paths, and thoughts behind F\+O\+R\+TH language. \begin{quote}
\href{http://home.iae.nl/users/mhx/sf.html}{\texttt{ Starting Forth by Leo Brodie}}~\newline
 \href{http://thinking-forth.sourceforge.net}{\texttt{ Thinking Forth by Leo Brodie}} \end{quote}

\end{DoxyItemize}

\doxysubsection*{Performance Tuning}


\begin{DoxyItemize}
\item Check your Arduino I\+DE installed directory, say $\ast$C\+:\textbackslash{}\+Users\textbackslash{}myname\textbackslash{}\+App\+Data\textbackslash{}\+Local\textbackslash{}\+Arduino...$\ast$ on Windows or $\ast$/home/myname/\+Arduino/...$\ast$ on Linux,
\item Find the directory {\itshape hardware -\/$>$ arduino -\/$>$ avr},
\item With an editor, open the $\ast$\textquotesingle{}platform.\+txt\textquotesingle{}$\ast$ file,
\item Find all three -\/Os compiler options (i.\+g. compiler.\+c.\+flags=-\/c -\/g -\/Os ...) \begin{quote}
change them to -\/O3 for speed, -\/Os (default) for smallest size, -\/O2 for somewhere in-\/between \end{quote}

\end{DoxyItemize}

\doxysubsection*{References to Dr. Ting\textquotesingle{}s Original}


\begin{DoxyItemize}
\item \href{https://chochain.github.io/eForth1/ref/328eForth_contents.pdf}{\texttt{ 328e\+Forth documentation -\/ table of content}} and \href{https://chochain.github.io/eForth1/ref/328eForth.pdf}{\texttt{ full doc}}
\item \href{https://github.com/DRuffer/328eforth}{\texttt{ 328e\+Forth mod for coin\+Forth by D. Ruffer}}
\item \href{https://chochain.github.io/eForth1/ref/ceForth_33.doc}{\texttt{ ce\+Forth\+\_\+33.\+doc -\/ original documentation}}
\item \href{https://chochain.github.io/eForth1/ref/ceForth_33.cpp}{\texttt{ ce\+Forth\+\_\+33.\+cpp -\/ in C, source assembler + VM}}
\item \href{https://chochain.github.io/eForth1/ref/eforth_328.ino}{\texttt{ eforth\+\_\+328.\+ino -\/ teaser by Dr. Ting for Arduino I\+DE}}
\item \href{https://github.com/TG9541/stm8ef}{\texttt{ e\+Forth for S\+T\+M8 -\/ for even smaller apps}} and \href{https://github.com/TG9541/stm8ef/wiki/STM8S-Programming\#flashing-the-stm8}{\texttt{ S\+T\+M8 Programming}}
\item \href{https://github.com/Esp32forth}{\texttt{ E\+S\+P32\+Forth for E\+S\+P32 -\/ for larger/fancier apps}} 
\end{DoxyItemize}