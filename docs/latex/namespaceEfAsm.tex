\hypertarget{namespaceEfAsm}{}\doxysection{Ef\+Asm Namespace Reference}
\label{namespaceEfAsm}\index{EfAsm@{EfAsm}}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \mbox{\hyperlink{group__Assembler_ga5c160dc5483bdf3d9ed57addbd21ca73ae2420e4b0c0ea017141da15d9d9c4ec6}{op\+N\+OP}} = 0, 
\mbox{\hyperlink{group__Assembler_ga5c160dc5483bdf3d9ed57addbd21ca73a1a8ee31b1d4091a06d2c050dfc2fb541}{O\+P\+C\+O\+D\+ES}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{namespaceEfAsm_acc07308cd4b29f3582ea2045d3326915}{assemble}} (\mbox{\hyperlink{eforth__core_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} $\ast$cdata)
\item 
void \mbox{\hyperlink{group__Pseudo_ga3ff1e256bb2a99fdb6fee8b453e4361e}{\+\_\+dump}} (int b, int u)
\item 
void \mbox{\hyperlink{group__Pseudo_ga5bdea27a67eb879d5dd1b58bed56b9bd}{\+\_\+rdump}} ()
\begin{DoxyCompactList}\small\item\em \begin{quote}
dump return stack \end{quote}
\end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__Pseudo_ga59af885d0e26e3c82059708948d2df37}{\+\_\+strlen}} (\mbox{\hyperlink{namespaceEfAsm_a1866848c561f07858c76dec0c2b76a78}{F\+C\+H\+AR}} $\ast$seq)
\item 
void \mbox{\hyperlink{group__Pseudo_ga27da79e08a45cd4ad90cffc847a04280}{\+\_\+header}} (int lex, \mbox{\hyperlink{namespaceEfAsm_a1866848c561f07858c76dec0c2b76a78}{F\+C\+H\+AR}} $\ast$seq)
\item 
int \mbox{\hyperlink{group__Pseudo_ga7d79fdd3d59e237e0381d1798e2050bb}{\+\_\+code}} (\mbox{\hyperlink{namespaceEfAsm_a1866848c561f07858c76dec0c2b76a78}{F\+C\+H\+AR}} $\ast$seg, int len,...)
\item 
int \mbox{\hyperlink{group__Pseudo_gacce2eabb9a04fa5c08fc95932e2f92ae}{\+\_\+colon}} (\mbox{\hyperlink{namespaceEfAsm_a1866848c561f07858c76dec0c2b76a78}{F\+C\+H\+AR}} $\ast$seg, int len,...)
\item 
int \mbox{\hyperlink{group__Pseudo_gacb8719a8b6a78152c8676f735dc7c467}{\+\_\+immed}} (\mbox{\hyperlink{namespaceEfAsm_a1866848c561f07858c76dec0c2b76a78}{F\+C\+H\+AR}} $\ast$seg, int len,...)
\item 
int \mbox{\hyperlink{group__Pseudo_gabb1c9544549fc018a1ed1e8345cc66f3}{\+\_\+label}} (int len,...)
\item 
void \mbox{\hyperlink{group__Pseudo_gab18b552c595cf956387d2e4427384563}{\+\_\+begin}} (int len,...)
\item 
void \mbox{\hyperlink{group__Pseudo_ga5b6bf226f290864b6a596069e4a0cf74}{\+\_\+while}} (int len,...)
\item 
void \mbox{\hyperlink{group__Pseudo_ga3f42a6bd0929a03c700ace952e186997}{\+\_\+repeat}} (int len,...)
\item 
void \mbox{\hyperlink{group__Pseudo_gadcd97bc33014c89d91e19cc4a217b5e8}{\+\_\+until}} (int len,...)
\item 
void \mbox{\hyperlink{group__Pseudo_gab7b5835572c00662317647be9a49b2b3}{\+\_\+again}} (int len,...)
\item 
void \mbox{\hyperlink{group__Pseudo_ga771a43815e0f65570de187ee456938e8}{\+\_\+for}} (int len,...)
\item 
void \mbox{\hyperlink{group__Pseudo_gabf110638d9dc2195b884957885128696}{\+\_\+aft}} (int len,...)
\item 
void \mbox{\hyperlink{group__Pseudo_ga2df77b2810440262c7ade5fc911f8c8a}{\+\_\+nxt}} (int len,...)
\begin{DoxyCompactList}\small\item\em \begin{quote}
Note\+: \+\_\+next() is multi-\/defined in vm \end{quote}
\end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__Pseudo_gab786d49b7cbf077b6a706a308167b5ce}{\+\_\+if}} (int len,...)
\item 
void \mbox{\hyperlink{group__Pseudo_ga8c4966a74388b9427ae2771419d73430}{\+\_\+else}} (int len,...)
\item 
void \mbox{\hyperlink{group__Pseudo_ga5a0ec1a59cc273ec7db9b5a2af2779ef}{\+\_\+then}} (int len,...)
\item 
void \mbox{\hyperlink{group__Pseudo_gafb006746d990ab51ca27545ab004f260}{\+\_\+dotq}} (\mbox{\hyperlink{namespaceEfAsm_a1866848c561f07858c76dec0c2b76a78}{F\+C\+H\+AR}} $\ast$seq)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const typedef \+\_\+\+\_\+\+Flash\+String\+Helper \mbox{\hyperlink{namespaceEfAsm_a1866848c561f07858c76dec0c2b76a78}{F\+C\+H\+AR}}
\end{DoxyCompactItemize}


\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{namespaceEfAsm_a5c160dc5483bdf3d9ed57addbd21ca73}\label{namespaceEfAsm_a5c160dc5483bdf3d9ed57addbd21ca73}} 
\doxysubsubsection{\texorpdfstring{anonymous enum}{anonymous enum}}
{\footnotesize\ttfamily anonymous enum}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{opNOP@{opNOP}!EfAsm@{EfAsm}}\index{EfAsm@{EfAsm}!opNOP@{opNOP}}}\mbox{\Hypertarget{namespaceEfAsm_ga5c160dc5483bdf3d9ed57addbd21ca73ae2420e4b0c0ea017141da15d9d9c4ec6}\label{namespaceEfAsm_ga5c160dc5483bdf3d9ed57addbd21ca73ae2420e4b0c0ea017141da15d9d9c4ec6}} 
op\+N\+OP&opcodes start at 0 \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{OPCODES@{OPCODES}!EfAsm@{EfAsm}}\index{EfAsm@{EfAsm}!OPCODES@{OPCODES}}}\mbox{\Hypertarget{namespaceEfAsm_ga5c160dc5483bdf3d9ed57addbd21ca73a1a8ee31b1d4091a06d2c050dfc2fb541}\label{namespaceEfAsm_ga5c160dc5483bdf3d9ed57addbd21ca73a1a8ee31b1d4091a06d2c050dfc2fb541}} 
O\+P\+C\+O\+D\+ES&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceEfAsm_acc07308cd4b29f3582ea2045d3326915}\label{namespaceEfAsm_acc07308cd4b29f3582ea2045d3326915}} 
\index{EfAsm@{EfAsm}!assemble@{assemble}}
\index{assemble@{assemble}!EfAsm@{EfAsm}}
\doxysubsubsection{\texorpdfstring{assemble()}{assemble()}}
{\footnotesize\ttfamily int Ef\+Asm\+::assemble (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{eforth__core_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} $\ast$}]{cdata }\end{DoxyParamCaption})}

\begin{quote}
e\+Forth Macro Assembler \end{quote}
\begin{quote}
R\+OM starting address \end{quote}


reserved for C\+O\+LD boot vector

\begin{quote}
Kernel dictionary (primitive words) \end{quote}


\begin{quote}
( u ul uh -- f ) check 3rd item within \mbox{[}ul uh) \end{quote}


\begin{quote}
( udl udh u -- ur uq ) unsigned double divided by a single \end{quote}


\begin{quote}
( u1 u2 -- ud ) unsigned double = multiply unsigned singles \end{quote}


\begin{quote}
( n1 n2 -- d ) double = single $\ast$ single \end{quote}


\begin{quote}
( n1 n2 -- sum c ) add two numbers and carry flag \end{quote}


\begin{quote}
( n1 n2 n -- r q ) multiply n1 n2 div/mod by a single \end{quote}


\begin{quote}
( n1 n2 -- r q ) single devide \end{quote}


\begin{quote}
( n1 n2 n3 -- q ) multiply n1 n2 divide by n3 return quotient \end{quote}


\begin{quote}
( n -- dl dh ) \end{quote}


\begin{quote}
( dl dh -- n ) \end{quote}


extended words

\begin{quote}
base of data stack (fixed instead of user var) \end{quote}


\begin{quote}
address of stack pointer \end{quote}


(T\+O\+DO\+: add J)

( f -- ) enable/disable debug tracing

( -- ) save user variables and dictionary to E\+E\+P\+R\+OM

( -- ) restore user variables and dictionary from E\+E\+R\+P\+R\+OM

( n -- ) call a C-\/function vector

Kernel constants

\begin{quote}

\begin{DoxyItemize}
\item \textquotesingle{}T\+IB console input buffer pointer 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item B\+A\+SE current radix for numeric ops 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item CP, top of dictionary, same as H\+E\+RE 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item C\+O\+N\+T\+E\+XT name field of last word 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item L\+A\+ST, same as C\+O\+N\+T\+E\+XT 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item \textquotesingle{}M\+O\+DE (\textquotesingle{}T\+E\+V\+AL -\/ interpreter or compiler) 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item A\+B\+O\+RT exception rescue handler (Q\+U\+IT) 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item H\+LD char pointer to output buffer 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item S\+P\+AN number of character accepted 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item $>$IN interpreter pointer to next char 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item \#\+T\+IB number of character received in T\+IB 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item tmp storage (alternative to return stack) 
\end{DoxyItemize}\end{quote}


\begin{quote}
Console Input and Common words \end{quote}


\begin{quote}
Number Conversions and formatting \end{quote}


T\+O\+DO\+: add $>$N\+U\+M\+B\+ER

\begin{quote}
Console Output \end{quote}


T\+O\+DO\+: add P\+A\+GE

\begin{quote}
Parsing \end{quote}


\begin{quote}
Dictionary serach \end{quote}


T\+O\+DO\+: add C\+O\+M\+P\+A\+RE

\begin{quote}
Terminal Input \end{quote}


\begin{quote}
Text Interpreter \end{quote}
\begin{DoxyVerb}QUERY/TIB/ACCEPT - start the interpreter loop <-------<------.
TOKEN/PARSE - get a space delimited word                      .
EXECUTE - attempt to look up that word in the dictionary       .
  NAME?/find - was the word found?                              ^
  |-Yes:                                                        |
  |   $INTERPRET - are we in compile mode?                      |
  |   |-Yes:                                                    ^
  |   |  \-Is the Word an Immediate word?                       |
  |   |   |-Yes:                                                |
  |   |   |    \- EXECUTE Execute the word -------------------->.
  |   |   |     |                                               |
  |   |   |     \- if (NAME?) EXECU else NUMBQ ---------------->.
  |   |    \-No:                                                |
  |   |        \-Compile the word into the dictionary --------->.
  |    \-No:                                                    |
  |       \- EXECUTE Execute the word ----->------------------->.
   \-No:                                                        ^
      NUMBER? - Can the word be treated as a number?            |
      |-Yes:                                                    |
      | \-Are we in compile mode?                               |
      |  |-Yes:                                                 |
      |  |  |                                                   |
      |  |   \-Compile a literal into the dictionary >--------->.
      |  |                                                      |
      |   \-No:                                                 |
      |     |                                                   |
      |      \-Push the number to the variable stack >--------->.
       \-No:                                                   .
          \-An Error has occurred, prIU out an error message ->
\end{DoxyVerb}


T\+O\+DO\+: add ?S\+T\+A\+CK

\begin{quote}
Colon Compiler \end{quote}


T\+O\+DO\+: add \mbox{[}\textquotesingle{}\mbox{]}

\begin{quote}
Debugging Tools \end{quote}


Optional\+: Takes 240 bytes R\+OM space \begin{quote}
display opcode name ( n -- ) \end{quote}


\begin{quote}
display address with colon delimiter ( a -- ) \end{quote}


\begin{quote}
see colon word definition ( -- ;; $<$string$>$ ) \end{quote}
T\+O\+DO\+: add \+\_\+\+C\+A\+SE

\begin{quote}
Control Structures \end{quote}


\begin{quote}

\begin{DoxyItemize}
\item B\+E\+G\+IN...A\+G\+A\+IN, B\+E\+G\+IN... f U\+N\+T\+IL, B\+E\+G\+IN...(once)...f W\+H\+I\+LE...(loop)...R\+E\+P\+E\+AT 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item f IF...T\+H\+EN, f IF...E\+L\+SE...T\+H\+EN 
\end{DoxyItemize}\end{quote}


\begin{quote}

\begin{DoxyItemize}
\item n F\+OR...N\+E\+XT, n F\+OR...(first)... f A\+FT...(2nd,...)...T\+H\+EN...(every)...N\+E\+XT 
\end{DoxyItemize}\end{quote}


T\+O\+DO\+: add DO...L\+O\+OP, +L\+O\+OP, L\+E\+A\+VE

\begin{quote}
String Literals \end{quote}


\begin{quote}
Defining Words -\/ variable, constant, and comments \end{quote}


\begin{quote}
change runtime behavior to following code \end{quote}


( ra ca ) para on return stack, offset to defining word


\begin{DoxyItemize}
\item the last op\+E\+X\+IT is not needed but nicer
\end{DoxyItemize}

T\+O\+DO\+: add P\+O\+S\+T\+P\+O\+NE


\begin{DoxyItemize}
\item CC\+: Dr. Ting hardcoded here
\item calculate addr of constant
\end{DoxyItemize}

\begin{quote}
Comments \end{quote}


\begin{quote}
Lexicon Bits \end{quote}


\begin{quote}
Arduino specific opcodes \end{quote}


( n p -- ) set pin\+Mode(p, n=1\+:O\+U\+T\+P\+UT, n=0\+: I\+N\+P\+UT)

( h l p -- ) set map range to pin

( p -- n ) digital\+Read(p)

( n p -- ) digitial\+Write(p, n=1 H\+I\+GH, n=0 L\+OW)

( p -- n ) read analog value from pin

( n p -- ) set duty cycle \% (P\+WM) to pin

( xt n -- ) on timer interrupt calls xt every n ms

( xt p -- ) on pin change interrupt calls xt

( f -- ) enable/disable timer interrupt

( f -- ) enable/disable pin change interrupt

( -- ud ud ) get current clock (in ms)

\begin{quote}
Cold Start address (End of dictionary) \end{quote}


\begin{quote}
Boot Vector Setup \end{quote}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespaceEfAsm_a1866848c561f07858c76dec0c2b76a78}\label{namespaceEfAsm_a1866848c561f07858c76dec0c2b76a78}} 
\index{EfAsm@{EfAsm}!FCHAR@{FCHAR}}
\index{FCHAR@{FCHAR}!EfAsm@{EfAsm}}
\doxysubsubsection{\texorpdfstring{FCHAR}{FCHAR}}
{\footnotesize\ttfamily const typedef \+\_\+\+\_\+\+Flash\+String\+Helper Ef\+Asm\+::\+F\+C\+H\+AR}

