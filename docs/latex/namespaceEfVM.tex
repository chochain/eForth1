\hypertarget{namespaceEfVM}{}\doxysection{Ef\+VM Namespace Reference}
\label{namespaceEfVM}\index{EfVM@{EfVM}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{eforth__core_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} \mbox{\hyperlink{namespaceEfVM_ab9cd2e7aef4c537d97137dafd02518ae}{B\+G\+ET}} (\mbox{\hyperlink{eforth__core_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16}} d)
\item 
\mbox{\hyperlink{eforth__core_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16}} \mbox{\hyperlink{namespaceEfVM_a07e74ced8251d26cd20bce5a2c386d7a}{G\+ET}} (\mbox{\hyperlink{eforth__core_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16}} d)
\item 
void \mbox{\hyperlink{namespaceEfVM_ac4f69cc49b68f10383886820029f6257}{P\+U\+SH}} (\mbox{\hyperlink{eforth__core_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}} v)
\item 
void \mbox{\hyperlink{namespaceEfVM_acfaf9ecd06a6d4b5dc4243201efaf38e}{R\+P\+U\+SH}} (\mbox{\hyperlink{eforth__core_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}} v)
\item 
void \mbox{\hyperlink{namespaceEfVM_a00e088a5d3bf8e5b61d5b8c798ebd9dc}{N\+E\+XT}} ()
\item 
\mbox{\hyperlink{eforth__core_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}} \mbox{\hyperlink{namespaceEfVM_a7e34acafb10058a978a767187f52a6b8}{\+\_\+depth}} ()
\item 
void \mbox{\hyperlink{namespaceEfVM_aaaa9f256ad4e73f2885577923fa23447}{\+\_\+init}} ()
\item 
void \mbox{\hyperlink{namespaceEfVM_a1149487a9866fbd91d4ccaf57eab9ea6}{\+\_\+yield}} ()
\begin{DoxyCompactList}\small\item\em \begin{quote}
yield to interrupt service \end{quote}
\end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceEfVM_a2afadbdf0e72c8707edfebe583a5dfa6}{\+\_\+qrx}} ()
\begin{DoxyCompactList}\small\item\em \begin{quote}
( -- c ) fetch a char from console \end{quote}
\end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceEfVM_ad93fbce2cb609c605aa8df2355c8e16b}{\+\_\+txsto}} ()
\begin{DoxyCompactList}\small\item\em \begin{quote}
(c -- ) send a char to console \end{quote}
\end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceEfVM_a88be037f3c5ddd06681d8775769b5bec}{\+\_\+execu}} ()
\begin{DoxyCompactList}\small\item\em \begin{quote}
(a -- ) take execution address from data stack and execute the token \end{quote}
\end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceEfVM_a04b479eed7bc0fa0b9c8600f47c04cba}{\+\_\+ummod}} ()
\begin{DoxyCompactList}\small\item\em (udl udh u -- ur uq) unsigned divide of a double by single \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static Stream $\ast$ \mbox{\hyperlink{namespaceEfVM_aa5ac1bb7ff2e93de1df7e220797fc690}{io}}
\item 
int \mbox{\hyperlink{namespaceEfVM_a09d628000e6b3bb7306a3bc9c3299efe}{\+\_\+yield\+\_\+cnt}} = 0
\begin{DoxyCompactList}\small\item\em interrupt service throttle counter \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceEfVM_ab9cd2e7aef4c537d97137dafd02518ae}\label{namespaceEfVM_ab9cd2e7aef4c537d97137dafd02518ae}} 
\index{EfVM@{EfVM}!BGET@{BGET}}
\index{BGET@{BGET}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{BGET()}{BGET()}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__core_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}} Ef\+V\+M\+::\+B\+G\+ET (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{eforth__core_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16}}}]{d }\end{DoxyParamCaption})}

byte (8-\/bit) fetch from either R\+AM or R\+OM depends on filtered range \mbox{\Hypertarget{namespaceEfVM_a07e74ced8251d26cd20bce5a2c386d7a}\label{namespaceEfVM_a07e74ced8251d26cd20bce5a2c386d7a}} 
\index{EfVM@{EfVM}!GET@{GET}}
\index{GET@{GET}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{GET()}{GET()}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__core_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16}} Ef\+V\+M\+::\+G\+ET (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{eforth__core_8h_a0a0a322d5fa4a546d293a77ba8b4a71f}{U16}}}]{d }\end{DoxyParamCaption})}

word (16-\/bit) fetch from either R\+AM or R\+OM depends on filtered range \mbox{\Hypertarget{namespaceEfVM_ac4f69cc49b68f10383886820029f6257}\label{namespaceEfVM_ac4f69cc49b68f10383886820029f6257}} 
\index{EfVM@{EfVM}!PUSH@{PUSH}}
\index{PUSH@{PUSH}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{PUSH()}{PUSH()}}
{\footnotesize\ttfamily void Ef\+V\+M\+::\+P\+U\+SH (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{eforth__core_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}}}]{v }\end{DoxyParamCaption})}

push a value onto stack top \mbox{\Hypertarget{namespaceEfVM_acfaf9ecd06a6d4b5dc4243201efaf38e}\label{namespaceEfVM_acfaf9ecd06a6d4b5dc4243201efaf38e}} 
\index{EfVM@{EfVM}!RPUSH@{RPUSH}}
\index{RPUSH@{RPUSH}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{RPUSH()}{RPUSH()}}
{\footnotesize\ttfamily void Ef\+V\+M\+::\+R\+P\+U\+SH (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{eforth__core_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}}}]{v }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespaceEfVM_a00e088a5d3bf8e5b61d5b8c798ebd9dc}\label{namespaceEfVM_a00e088a5d3bf8e5b61d5b8c798ebd9dc}} 
\index{EfVM@{EfVM}!NEXT@{NEXT}}
\index{NEXT@{NEXT}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{NEXT()}{NEXT()}}
{\footnotesize\ttfamily void Ef\+V\+M\+::\+N\+E\+XT (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

update program counter (ready to fetch), advance instruction pointer \mbox{\Hypertarget{namespaceEfVM_a7e34acafb10058a978a767187f52a6b8}\label{namespaceEfVM_a7e34acafb10058a978a767187f52a6b8}} 
\index{EfVM@{EfVM}!\_depth@{\_depth}}
\index{\_depth@{\_depth}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{\_depth()}{\_depth()}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__core_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}} Ef\+V\+M\+::\+\_\+depth (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespaceEfVM_aaaa9f256ad4e73f2885577923fa23447}\label{namespaceEfVM_aaaa9f256ad4e73f2885577923fa23447}} 
\index{EfVM@{EfVM}!\_init@{\_init}}
\index{\_init@{\_init}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{\_init()}{\_init()}}
{\footnotesize\ttfamily void Ef\+V\+M\+::\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

virtual machine initializer 
\begin{DoxyItemize}
\item reset interrupt handlers
\end{DoxyItemize}

\begin{quote}
setup control variables \end{quote}


F\+O\+R\+T\+H\+\_\+\+U\+V\+A\+R\+\_\+\+A\+D\+DR; \textquotesingle{}T\+IB console input buffer pointer B\+A\+SE current radix for numeric ops CP, top of dictionary, same as H\+E\+RE C\+O\+N\+T\+E\+XT name field of last word L\+A\+ST, same as C\+O\+N\+T\+E\+XT \textquotesingle{}E\+V\+AL eval mode (interpreter or compiler) \textquotesingle{}A\+B\+O\+RT exception rescue handler (Q\+U\+IT) tmp storage (alternative to return stack)

\begin{quote}
setup Forth user variables \end{quote}



\begin{DoxyItemize}
\item set \textquotesingle{}T\+IB pointer
\item set B\+A\+SE to 10
\item top of dictionary
\end{DoxyItemize}

display init prompt\mbox{\Hypertarget{namespaceEfVM_a1149487a9866fbd91d4ccaf57eab9ea6}\label{namespaceEfVM_a1149487a9866fbd91d4ccaf57eab9ea6}} 
\index{EfVM@{EfVM}!\_yield@{\_yield}}
\index{\_yield@{\_yield}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{\_yield()}{\_yield()}}
{\footnotesize\ttfamily void Ef\+V\+M\+::\+\_\+yield (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\begin{quote}
yield to interrupt service \end{quote}


\begin{quote}
serve interrupt routines \end{quote}

\begin{DoxyItemize}
\item check interrupts
\item service interrupt?
\item flag return address as I\+R\+ET
\item skip op\+E\+N\+T\+ER
\end{DoxyItemize}\mbox{\Hypertarget{namespaceEfVM_a2afadbdf0e72c8707edfebe583a5dfa6}\label{namespaceEfVM_a2afadbdf0e72c8707edfebe583a5dfa6}} 
\index{EfVM@{EfVM}!\_qrx@{\_qrx}}
\index{\_qrx@{\_qrx}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{\_qrx()}{\_qrx()}}
{\footnotesize\ttfamily void Ef\+V\+M\+::\+\_\+qrx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\begin{quote}
( -- c ) fetch a char from console \end{quote}


\begin{quote}
console IO functions \end{quote}
\begin{quote}
fetch from IO stream \end{quote}
\mbox{\Hypertarget{namespaceEfVM_ad93fbce2cb609c605aa8df2355c8e16b}\label{namespaceEfVM_ad93fbce2cb609c605aa8df2355c8e16b}} 
\index{EfVM@{EfVM}!\_txsto@{\_txsto}}
\index{\_txsto@{\_txsto}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{\_txsto()}{\_txsto()}}
{\footnotesize\ttfamily void Ef\+V\+M\+::\+\_\+txsto (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\begin{quote}
(c -- ) send a char to console \end{quote}


\mbox{\Hypertarget{namespaceEfVM_a88be037f3c5ddd06681d8775769b5bec}\label{namespaceEfVM_a88be037f3c5ddd06681d8775769b5bec}} 
\index{EfVM@{EfVM}!\_execu@{\_execu}}
\index{\_execu@{\_execu}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{\_execu()}{\_execu()}}
{\footnotesize\ttfamily void Ef\+V\+M\+::\+\_\+execu (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\begin{quote}
(a -- ) take execution address from data stack and execute the token \end{quote}


\begin{quote}
fetch program counter \end{quote}
\mbox{\Hypertarget{namespaceEfVM_a04b479eed7bc0fa0b9c8600f47c04cba}\label{namespaceEfVM_a04b479eed7bc0fa0b9c8600f47c04cba}} 
\index{EfVM@{EfVM}!\_ummod@{\_ummod}}
\index{\_ummod@{\_ummod}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{\_ummod()}{\_ummod()}}
{\footnotesize\ttfamily void Ef\+V\+M\+::\+\_\+ummod (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



(udl udh u -- ur uq) unsigned divide of a double by single 

\begin{quote}
CC\+: auto variable uses C stack \end{quote}


\begin{quote}
remainder \end{quote}


\begin{quote}
quotient \end{quote}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespaceEfVM_aa5ac1bb7ff2e93de1df7e220797fc690}\label{namespaceEfVM_aa5ac1bb7ff2e93de1df7e220797fc690}} 
\index{EfVM@{EfVM}!io@{io}}
\index{io@{io}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{io}{io}}
{\footnotesize\ttfamily Stream$\ast$ Ef\+V\+M\+::io\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{namespaceEfVM_a4444ce01dd126290156b6339aedb281b}\label{namespaceEfVM_a4444ce01dd126290156b6339aedb281b}} 
\index{EfVM@{EfVM}!PC@{PC}}
\index{PC@{PC}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{PC}{PC}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__core_8h_a5fd90490ca5b2ceb72bf8b2c89a9634b}{IU}} Ef\+V\+M\+::\+PC}



program counter, IU is 16-\/bit 

\mbox{\Hypertarget{namespaceEfVM_a34e9492841c1a98e29286c41dcdac10b}\label{namespaceEfVM_a34e9492841c1a98e29286c41dcdac10b}} 
\index{EfVM@{EfVM}!IP@{IP}}
\index{IP@{IP}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{IP}{IP}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__core_8h_a5fd90490ca5b2ceb72bf8b2c89a9634b}{IU}} Ef\+V\+M\+::\+IP}



instruction pointer, IU is 16-\/bit, opcode is 8-\/bit 

\mbox{\Hypertarget{namespaceEfVM_a0d508bfbdbd7a09dcd56a24e3b6cb169}\label{namespaceEfVM_a0d508bfbdbd7a09dcd56a24e3b6cb169}} 
\index{EfVM@{EfVM}!top@{top}}
\index{top@{top}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{top}{top}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__core_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}} Ef\+V\+M\+::top}



A\+LU (i.\+e. cached top of stack value) 

\mbox{\Hypertarget{namespaceEfVM_a61aea862ab3bab556736663c844366c7}\label{namespaceEfVM_a61aea862ab3bab556736663c844366c7}} 
\index{EfVM@{EfVM}!rtop@{rtop}}
\index{rtop@{rtop}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{rtop}{rtop}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__core_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}} Ef\+V\+M\+::rtop}

\mbox{\Hypertarget{namespaceEfVM_ad6bf1128d9ffa5007021ecabed123c74}\label{namespaceEfVM_ad6bf1128d9ffa5007021ecabed123c74}} 
\index{EfVM@{EfVM}!IR@{IR}}
\index{IR@{IR}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{IR}{IR}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__core_8h_a5fd90490ca5b2ceb72bf8b2c89a9634b}{IU}} Ef\+V\+M\+::\+IR}



interrupt service routine 

\mbox{\Hypertarget{namespaceEfVM_a84f1ef51c831a00617756c690faa7194}\label{namespaceEfVM_a84f1ef51c831a00617756c690faa7194}} 
\index{EfVM@{EfVM}!\_rom@{\_rom}}
\index{\_rom@{\_rom}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{\_rom}{\_rom}}
{\footnotesize\ttfamily P\+G\+M\+\_\+P Ef\+V\+M\+::\+\_\+rom}



R\+OM, Forth word stored in Arduino Flash Memory. 

\mbox{\Hypertarget{namespaceEfVM_a57dd3214293027b21298f155ebae4e19}\label{namespaceEfVM_a57dd3214293027b21298f155ebae4e19}} 
\index{EfVM@{EfVM}!\_data@{\_data}}
\index{\_data@{\_data}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{\_data}{\_data}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__core_8h_aa63ef7b996d5487ce35a5a66601f3e73}{U8}}$\ast$ Ef\+V\+M\+::\+\_\+data}



R\+AM, memory block for user define dictionary. 

\mbox{\Hypertarget{namespaceEfVM_aa76f09a5a1c8d753230006aab2827d3f}\label{namespaceEfVM_aa76f09a5a1c8d753230006aab2827d3f}} 
\index{EfVM@{EfVM}!DS@{DS}}
\index{DS@{DS}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{DS}{DS}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__core_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}}$\ast$ Ef\+V\+M\+::\+DS}



data stack pointer, Dr. Ting\textquotesingle{}s stack 

\mbox{\Hypertarget{namespaceEfVM_abf397b013c4b72715edcab1de7a6f2a1}\label{namespaceEfVM_abf397b013c4b72715edcab1de7a6f2a1}} 
\index{EfVM@{EfVM}!RS@{RS}}
\index{RS@{RS}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{RS}{RS}}
{\footnotesize\ttfamily \mbox{\hyperlink{eforth__core_8h_a149fe3b107a553d7f4a2fcf3adc02b6a}{DU}}$\ast$ Ef\+V\+M\+::\+RS}



return stack pointer, Dr. Ting\textquotesingle{}s rack 

\mbox{\Hypertarget{namespaceEfVM_a09d628000e6b3bb7306a3bc9c3299efe}\label{namespaceEfVM_a09d628000e6b3bb7306a3bc9c3299efe}} 
\index{EfVM@{EfVM}!\_yield\_cnt@{\_yield\_cnt}}
\index{\_yield\_cnt@{\_yield\_cnt}!EfVM@{EfVM}}
\doxysubsubsection{\texorpdfstring{\_yield\_cnt}{\_yield\_cnt}}
{\footnotesize\ttfamily int Ef\+V\+M\+::\+\_\+yield\+\_\+cnt = 0}



interrupt service throttle counter 

